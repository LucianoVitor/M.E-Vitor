<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M.E Vitor</title>
    <link rel="stylesheet" href="../CSS/style.css">
    <script defer src="../JAVASCRIPT/events/script.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

    <header>
        <div class="header-top">
            <div class="logo">
                <img src="../assets/logo-iniciais.png" alt="Logo Iniciais">
            </div>
            <div class="logo-nome">
                <img src="../assets/logo-nome.png" alt="Nome da Empresa">
            </div>
            <div class="icons" id="user-info">
                <a href="login.html"><img src="../assets/Icon_entrar.png" alt="Icon Cliente"></a>
                <a href="carrinho.html">🛒</a>
            </div>
        </div>    
        <nav class="menu-principal">
            <ul>
                <li><a href="orcamento.html" id="orcamento">Solicite seu orçamento</a></li>
                <li><a href="visita.html" id="visita">Agende sua Visita</a></li>
                <li><a href="portfolio.html">Portfólio</a></li>
            </ul>
        </nav>
        
    </header>
        <div class="container-fluid p-0">
            <div id="ads" class="carousel slide carousel-fade" 
                data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button class="active"
                        data-bs-target="#ads"
                        data-bs-slide-to="0"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="1"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="2"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="3"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="4"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="5"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="6"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="7"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="8"></button>
                    <button class=""
                        data-bs-target="#ads"
                        data-bs-slide-to="9"></button>
                </div>
                <div class="carousel-inner">
                <div class="carousel-item active" 
                    data-bs-interval="3000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/P_20200422_161450_Original.JPG" alt ="" class="d-block w-100">
                    <div class="carousel-caption d-none 
                        d-md-block">            
                    </div>
                </div>
                <div class="carousel-item"
                    data-bs-interval="3000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5059.jpg" alt ="Bancada branca" class="d-block w-100">
                </div>
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5078.jpg" alt ="Rack branco" class="d-block w-100">
                </div>
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/P_20220716_132400_Original.JPG" alt ="Armário superior branco" class="d-block w-100">
                </div>
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG-20191114-WA0004_Original.JPG" alt ="Armário inferior branco" class="d-block w-100">
                </div> 
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5066.jpg" alt ="Mesas de cabeceira brancas" class="d-block w-100">
                </div> 
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5072.jpg" alt ="Pia branca" class="d-block w-100">
                </div> 
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5074.jpg" alt ="Gabinete de pia branco" class="d-block w-100">
                </div> 
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5076.jpg" alt ="Gabinete de pia cinza sem portas" class="d-block w-100">
                </div> 
                <div class="carousel-item"
                    data-bs-interval="2000">
                    <img src="/Frontend/assets/img_portfolio/img_carrossel/IMG_5077.jpg" alt ="Gabinete de pia cinza com portas" class="d-block w-100">
                </div>     
            </div>
            <div>
            <button class="carousel-control-prev" data-bs-target="#ads" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"> </span>
            </button>
            <button class="carousel-control-next" data-bs-target="#ads" data-bs-slide="next">
                <span class="carousel-control-next-icon"> </span>
            </button>
        </div>    
    </div>
</div>

    <section class="mais-vendidos">
        <h2>MAIS VENDIDOS</h2>
        <div class="produtos">
            <div class="produto">
                <div class="carousel-container">
                  <button class="carousel-btn prev" onclick="moverCarousel(this, -1)">&#10094;</button>
                  <div class="carousel-images">
                    <img src="/Frontend/assets/img_portfolio/IMG-20191005-WA0284_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/IMG-20191005-WA0316_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/IMG-20200211-WA0056_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/IMG-20200211-WA0058_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/IMG-20200211-WA0061_Original.JPG">
                  </div>
                  <button class="carousel-btn next" onclick="moverCarousel(this, 1)">&#10095;</button>
                </div>
                <p>EXPOSITOR DE ESMALTES</p>
                <p>POR: R$ 350,00 à vista</p>
                <p>À PRAZO: 370,00 em 6x</p>
                <button class="btn-carrinho" onclick="adicionarAoCarrinho('Expositor de Esmaltes', 350.00)">
                  🛒 Adicionar ao Carrinho
                </button>
              </div>
            <div class="produto">
                <div class="carousel-container">
                  <button class="carousel-btn prev" onclick="moverCarousel(this, -1)">&#10094;</button>
                  <div class="carousel-images">
                    <img src="/Frontend/assets/img_portfolio/porta temperos-1_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/Screenshot_20180124-144023~2_Original.PNG">
                    <img src="/Frontend/assets/img_portfolio/IMG-20200506-WA0098_Original.JPG">
                  </div>
                  <button class="carousel-btn next" onclick="moverCarousel(this, 1)">&#10095;</button>
                </div>
                <p>PORTA TEMPEROS</p>
                <p>POR: R$ 200,00 à vista</p>
                <p>À PRAZO: 220,00 em 6x</p>
                <button class="btn-carrinho" onclick="adicionarAoCarrinho('Porta Temperos', 200.00)">
                  🛒 Adicionar ao Carrinho
                </button>
              </div>
            <div class="produto">
                <div class="carousel-container">
                  <button class="carousel-btn prev" onclick="moverCarousel(this, -1)">&#10094;</button>
                  <div class="carousel-images">
                    <img src="/Frontend/assets/img_portfolio/IMG-20190830-WA0003_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/IMG-20191005-WA0279_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/P_20220606_104528_Original.JPG" >
                    <img src="/Frontend/assets/img_portfolio/P_20220606_104545_Original.JPG">
                  </div>
                  <button class="carousel-btn next" onclick="moverCarousel(this, 1)">&#10095;</button>
                </div>
                <p>COFRES DE MADEIRA</p>
                <p>20CMX15CMX15CM</p>
                <p>POR: R$ 49,99 à vista</p>
                <p>À PRAZO: 65,00 em 6x</p>
                <button class="btn-carrinho" onclick="adicionarAoCarrinho('Cofres de Madeira', 49.99)">
                  🛒 Adicionar ao Carrinho
                </button>
              </div>
            <div class="produto">
                <div class="carousel-container">
                  <button class="carousel-btn prev" onclick="moverCarousel(this, -1)">&#10094;</button>
                  <div class="carousel-images">
                    <img src="/Frontend/assets/img_portfolio/IMG-20191005-WA0321_Original.JPG">
                    <img src="/Frontend/assets/img_portfolio/P_20200501_181047_Original.JPG">
                  </div>
                  <button class="carousel-btn next" onclick="moverCarousel(this, 1)">&#10095;</button>
                </div>
                <p>NICHO 40X40X25</p>
                <p>POR: R$ 40,99 à vista</p>
                <p>À PRAZO: 50,00 em 6x</p>
                <button class="btn-carrinho" onclick="adicionarAoCarrinho('Nicho 40X40X25', 40.99)">
                  🛒 Adicionar ao Carrinho
                </button>
              </div>              
        </div>
    </section>
    <footer>
        <div class="footer-container">
            <div class="footer-left">
                <h2>M.E. VITOR</h2>
                <p>HÁ MAIS DE 15 ANOS NO MERCADO DE FABRICAÇÃO DE MÓVEIS PLANEJADOS</p>
                <div class="social-icons">
                    <a href="https://www.facebook.com/marcelo.vitor.35762" target="_blank">
                    <img src="/Frontend/assets/facebook-fb-social-icon.svg" alt="Facebook">
                    </a>
                    <a href="https://w.app/je58pf" target="_blank">
                    <img src="/Frontend/assets/whatsapp.svg" alt="WhatsApp">
                    </a>
                    <a href="#" target="_blank">
                    <img src="/Frontend/assets/instagram.svg" alt="Instagram">
                 </a>
                </div>
            </div>
    
            <div class="footer-center">
                <h3>INSTITUCIONAL</h3>
                <ul>
                    <li><a href="quemsomos.html">QUEM SOMOS</a></li>
                </ul>
            </div>
    
            <div class="footer-right">
                <h3>ATENDIMENTO</h3>
                <p>(11) 98897-2115</p>
                <p>(11) 99373-8355</p>
                <p>📧 <strong>mevitormoveisplanejados@gmail.com</strong></p>
            </div>
        </div>
    </footer> 
        <script>
            function moverCarousel(button, direcao) {
              const container = button.closest(".carousel-container");
              const images = container.querySelector(".carousel-images");
              const totalImagens = images.children.length;
              const larguraImagem = images.children[0].offsetWidth;
            
              if (!container.dataset.index) container.dataset.index = 0;
            
              let indexAtual = parseInt(container.dataset.index);
              indexAtual += direcao;
            
              if (indexAtual < 0) indexAtual = totalImagens - 1;
              if (indexAtual >= totalImagens) indexAtual = 0;
            
              container.dataset.index = indexAtual;
              images.style.transform = `translateX(-${indexAtual * larguraImagem}px)`;
            }
            </script>
    <script>
    function parseJwt(token) {
        try {
            const base64Url = token.split('.')[1];
            const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        } catch (e) {
            return null;
        }
    }

    const token = localStorage.getItem('jwtToken'); 
    const userInfoDiv = document.getElementById('user-info');

    if (token) {
        const payload = parseJwt(token);
        if (payload && payload.name) {
            userInfoDiv.innerHTML= `
                <span class="user-greeting">Olá, <span id="user-name"></span></span>
                <a href="carrinho.html">🛒</a>
            `;
            const userNameSpan = document.getElementById('user-name');
            userNameSpan.textContent = payload.name;
        }
    }
</script>   
</body>
<script src="/Frontend/JAVASCRIPT/rotas.js"></script>
<script>ProtectRoute("orcamento")
    ProtectRoute("visita")
</script>
</html>
